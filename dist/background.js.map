{"version":3,"file":"background.js","mappings":"AACAA,QAAQC,IAAI,gCAGZC,OAAOC,QAAQC,YAAYC,YAAY,KACrCH,OAAOI,aAAaC,OAAO,CACzBC,GAAI,YACJC,MAAO,wBACPC,SAAU,CAAC,eAGbV,QAAQC,IAAI,2BAIdC,OAAOI,aAAaK,UAAUN,YAAY,CAACO,EAAMC,KACvB,cAApBD,EAAKE,YAA8BF,EAAKG,gBAE1Cb,OAAOc,QAAQC,MAAMC,IAAI,CACvBC,WAAYP,EAAKG,cACjBK,iBAAiB,IAInBlB,OAAOmB,OAAOC,eAKlBpB,OAAOC,QAAQoB,UAAUlB,YAAY,CAACmB,EAASC,EAAQC,KAUrD,GATuB,cAAnBF,EAAQH,SAEVnB,OAAOc,QAAQC,MAAMC,IAAI,CACvBC,WAAYK,EAAQG,KACpBC,UAAU,IAEZF,EAAa,CAAEG,SAAS,KAGH,gBAAnBL,EAAQH,OAMV,OALAnB,OAAOc,QAAQC,MAAMa,IAAI,CAAC,aAAc,kBAAmB,YAAcC,IACvEL,EAAaK,GAEb7B,OAAOc,QAAQC,MAAMe,OAAO,CAAC,kBAAmB,gBAE3C,IAKX9B,OAAOmB,OAAOV,UAAUN,YAAaQ,IACnCX,OAAOmB,OAAOC","sources":["webpack://ip-graph-extension/./src/background/background.ts"],"sourcesContent":["// Background script for IP Graph Extension\nconsole.log('IP Graph Extension installed');\n\n// Create context menus\nchrome.runtime.onInstalled.addListener(() => {\n  chrome.contextMenus.create({\n    id: 'analyzeIP',\n    title: 'Analyze IP with Graph',\n    contexts: ['selection']\n  });\n  \n  console.log('Context menus created');\n});\n\n// Handle context menu clicks\nchrome.contextMenus.onClicked.addListener((info, tab) => {\n  if (info.menuItemId === 'analyzeIP' && info.selectionText) {\n    // Send selected text to popup for analysis\n    chrome.storage.local.set({\n      selectedIP: info.selectionText,\n      fromContextMenu: true\n    });\n    \n    // Open popup\n    chrome.action.openPopup();\n  }\n});\n\n// Handle messages from content script and popup\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n  if (request.action === 'analyzeIP') {\n    // Store IP for analysis\n    chrome.storage.local.set({\n      selectedIP: request.ipId,\n      fromPage: true\n    });\n    sendResponse({ success: true });\n  }\n  \n  if (request.action === 'getStoredIP') {\n    chrome.storage.local.get(['selectedIP', 'fromContextMenu', 'fromPage'], (result) => {\n      sendResponse(result);\n      // Clear after retrieval\n      chrome.storage.local.remove(['fromContextMenu', 'fromPage']);\n    });\n    return true; // Keep message channel open for async response\n  }\n});\n\n// Handle extension icon click\nchrome.action.onClicked.addListener((tab) => {\n  chrome.action.openPopup();\n});"],"names":["console","log","chrome","runtime","onInstalled","addListener","contextMenus","create","id","title","contexts","onClicked","info","tab","menuItemId","selectionText","storage","local","set","selectedIP","fromContextMenu","action","openPopup","onMessage","request","sender","sendResponse","ipId","fromPage","success","get","result","remove"],"sourceRoot":""}